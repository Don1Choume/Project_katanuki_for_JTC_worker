# プロジェクト開始とフォルダ活用マニュアル

このマニュアルは、本Python分析プロジェクトテンプレートの利用を開始し、各フォルダとライブラリを効果的に活用するためのガイドです。

## 1. プロジェクトテンプレートの概要

このテンプレートは、データ分析プロジェクトを効率的かつ体系的に進めるために設計されています。明確なフォルダ構造、バージョン管理、テスト、ドキュメント作成のベストプラクティスを組み込むことで、チームでの共同作業やプロジェクトの長期的な保守性を向上させます。

## 2. プロジェクトの開始方法

### 2.1. 前提条件

- Windows OS
- インターネット接続
- PowerShell

### 2.2. 必要なツールのインストール

本プロジェクトでは、Pythonのバージョン管理に`mise`、パッケージ管理に`uv`を使用します。まだインストールしていない場合は、以下のマニュアルを参照してインストールしてください。

- [uv マニュアル](../tools/uv_manual.md)
- [mise マニュアル](../tools/mise_manual.md)

### 2.3. プロジェクトリポジトリのクローン

本テンプレートをGitリポジトリとして管理している場合、以下のコマンドでプロジェクトをローカルにクローンします。

```bash
git clone [リポジトリのURL]
cd [クローンしたディレクトリ名]
```

### 2.4. Python環境のセットアップ

クローンしたプロジェクトディレクトリに移動し、以下のコマンドを実行してPython環境をセットアップします。

1.  **Pythonバージョンの設定:**
    ```bash
    mise use python@3.11
    ```
    これにより、プロジェクト固有のPythonバージョンが設定され、`.mise.toml`ファイルが作成されます。

2.  **必要なパッケージのインストール:**
    ```bash
    uv sync
    ```
    `uv sync`コマンドは、`requirements.txt`ファイル（存在する場合）に基づいて必要なパッケージをインストールします。もし`requirements.txt`がない場合は、必要なパッケージを`uv add <package_name>`で追加してください。

## 3. フォルダ構造と活用方法

プロジェクトのルートディレクトリには、以下の主要なフォルダとファイルがあります。

-   **`config/`**: プロジェクト全体の設定ファイルを格納します。データベース接続情報、APIキーなどの機密情報は、`.env`ファイルや環境変数で管理し、Gitから除外してください。
    -   **活用方法:** 環境ごとの設定（開発、テスト、本番）を分けたり、分析パラメータを一元管理したりするのに使用します。

-   **`docs/`**: プロジェクトに関するすべてのドキュメントを格納します。
    -   **`manual/`**: ツール、方法論、ライブラリに関する詳細なマニュアルを格納します。
        -   **`tools/`**: `uv`, `mise`, `prefect`, `pytest`などのツールに関するマニュアル。
        -   **`methodologies/`**: `Git-flow`, `GitHub Flow`, `TDD`などの開発方法論に関するマニュアル。
        -   **`library_docs/`**: `analysis_lib`内の各モジュールや関数の詳細な説明と使用例。
    -   **`prompt/`**: LLMを活用するためのプロンプトテンプレートを格納します。提案書、計画書、報告書などの作成に利用できます。
    -   **`rule/`**: コーディング規約やGit運用ルールなど、プロジェクト固有のルールを記述します。
    -   **`plan/`**: プロジェクトの計画書やWBSなどを格納します。
    -   **`presentation/`**: プレゼンテーション資料を格納します。
    -   **`report/`**: 中間報告書や分析結果報告書などを格納します。
    -   **`reference/`**: 外部の参考資料や論文などを格納します。
    -   **活用方法:** プロジェクトの知識ベースとして活用し、新規メンバーのオンボーディングや情報共有を効率化します。

-   **`data/`**: プロジェクトで使用するデータを格納します。Gitから除外されます。
    -   **`row/`**: 変更を加えていない生データを格納します。
    -   **`interim/`**: 生データから生成された中間データを格納します。
    -   **`processed/`**: 分析やモデル構築のために前処理されたデータを格納します。
    -   **`external/`**: 外部から取得したデータ（例: 公開データセット）を格納します。
    -   **`models/`**: 学習済みモデルのファイルを格納します。
    -   **活用方法:** データのライフサイクルを明確にし、データの再現性と管理を容易にします。

-   **`result/`**: 分析結果や出力ファイルを格納します。Gitから除外されます。
    -   **`fig/`**: 生成されたグラフや図などの画像を格納します。
    -   **`interm/`**: 中間的な分析結果や一時ファイルを格納します。
    -   **`output/`**: 最終的な分析結果やレポート、デプロイ可能な成果物などを格納します。
    -   **活用方法:** 分析結果の整理と共有を容易にし、過去の分析結果を追跡できるようにします。

-   **`note/`**: Jupyter Notebookなどの探索的分析やテスト用のスクリプトを格納します。
    -   **活用方法:** アイデアの検証、データ探索、プロトタイピングなどに使用します。最終的なプロダクトコードは`analysis_lib`に移行します。

-   **`test/`**: ユニットテストや統合テストのコードを格納します。
    -   **活用方法:** コードの品質を保証し、リファクタリングや機能追加時のデグレードを防ぎます。`pytest`を使用してテストを実行します。

-   **`script/`**: コマンドラインから実行可能なスクリプトを格納します。
    -   **活用方法:** データパイプラインの実行、モデルのトレーニング、レポート生成など、繰り返し実行するタスクを自動化します。

-   **`analysis_lib/`**: プロジェクト固有の再利用可能なPythonコードをライブラリとして格納します。各サブフォルダは特定の機能領域を担当します。
    -   **`config/`**: アプリケーション内の設定を読み込むためのモジュール。
    -   **`pipelines/`**: Prefectなどのツールを使用したデータパイプラインの定義。
    -   **`etl/`**: データの抽出 (Extract)、変換 (Transform)、ロード (Load) に関する処理。
    -   **`ml/`**: 機械学習モデルの定義、トレーニング、予測に関する処理。
    -   **`analysis/`**: 汎用的なデータ分析ロジック。
    -   **`nlp/`**: 自然言語処理に関する機能（例: テキスト前処理、形態素解析）。
    -   **`vision/`**: コンピュータビジョンに関する機能（例: 画像処理、特徴抽出）。
    -   **`signal/`**: 信号処理に関する機能（例: フィルタリング、スペクトル分析）。
    -   **`audio/`**: 音声処理に関する機能（例: 音声特徴量抽出、音声認識）。
    -   **`time_series/`**: 時系列データ分析に関する機能（例: 移動平均、予測モデル）。
    -   **`graph/`**: グラフデータ構造とアルゴリズムに関する機能（例: 最短経路、コミュニティ検出）。
    -   **`llm/`**: 大規模言語モデル (LLM) との連携機能（例: テキスト生成、埋め込み）。
    -   **`statistics/`**: 統計分析に関する機能（例: 仮説検定、記述統計）。
    -   **`database/`**: データベース操作に関する機能（例: クエリ実行、データ挿入）。
    -   **`utils/`**: 汎用的なユーティリティ関数（例: ロギング、ヘルパー関数）。
    -   **`visualize/`**: データ可視化に関する機能（例: グラフ描画、ダッシュボード）。
    -   **`evaluation/`**: モデル評価に関する機能（例: 評価指標計算、クロスバリデーション）。
    -   **`optimize/`**: 最適化アルゴリズムに関する機能（例: 勾配降下法、遺伝的アルゴリズム）。
    -   **活用方法:** 各機能領域のコードをモジュール化し、再利用性と保守性を高めます。各モジュールの詳細については、[ライブラリドキュメント](../library_docs/optimize_doc.md)を参照してください。

-   **`.env`**: 環境変数を定義するファイル。機密情報（APIキー、データベース接続情報など）を格納し、Gitから除外します。
    -   **活用方法:** プロジェクトの実行環境に依存する設定を安全に管理します。

-   **`.gitignore`**: Gitのバージョン管理から除外するファイルやディレクトリを指定します。
    -   **活用方法:** 機密情報、生成されたデータ、ビルド成果物などが誤ってリポジトリにコミットされるのを防ぎます。

-   **`main.py`**: プロジェクトのエントリーポイントとなるスクリプト。主要な処理の実行や、他のモジュールを呼び出す起点となります。
    -   **活用方法:** プロジェクトの全体像を把握し、主要なワークフローを開始するための起点として使用します。

-   **`.mise.toml`**: `mise`がPythonバージョンやその他のツールバージョンを管理するための設定ファイル。
    -   **活用方法:** プロジェクトに参加するすべての開発者が同じ開発環境を簡単に構築できるようにします。

## 4. 本フォルダ群の活用におけるベストプラクティス

-   **TDDの実践:** 新しい機能を追加する際は、[TDDマニュアル](../methodologies/tdd_manual.md)に従い、テストを先に書く習慣をつけましょう。
-   **Git運用ルールの遵守:** [Git-flowマニュアル](../methodologies/git_flow_manual.md)または[GitHub Flowマニュアル](../methodologies/github_flow_manual.md)に従い、ブランチ戦略とプルリクエストの運用を徹底しましょう。
-   **ドキュメントの更新:** コードの変更や新しい機能の追加があった場合は、関連するドキュメント（特に`docs/manual/library_docs`）を常に最新の状態に保ちましょう。
-   **環境変数の利用:** 機密情報はコードに直接書き込まず、`.env`ファイルや環境変数を通じて管理しましょう。
-   **モジュール化と再利用:** 共通の処理は`analysis_lib`内の適切なモジュールにまとめ、再利用性を高めましょう。
-   **ログの活用:** `analysis_lib.utils.logging`モジュールを活用し、適切なレベルでログを出力することで、デバッグや問題の特定を容易にしましょう。

このマニュアルが、本プロジェクトテンプレートを最大限に活用するための一助となれば幸いです。
